# 多人联机贪吃蛇（C# 版）

基于 .NET 8 的多人联机贪吃蛇游戏，支持多个玩家同时在线游戏。

## 架构

- **服务端** (`server-cs/`): 使用 TCP 服务器，管理游戏状态和玩家连接
- **客户端** (`client-cs/`): 控制台客户端，通过 WASD 控制贪吃蛇移动
- **AI客户端** (`client-ai-cs/`): 压力测试AI客户端，自动移动、不显示游戏画面、只显示关键事件日志

## 运行

### 1. 启动服务端

```bash
cd snake_game/server-cs
dotnet run
```

服务端默认监听 `0.0.0.0:5000`

### 2. 启动客户端

在另一个终端窗口：

```bash
cd snake_game/client-cs
dotnet run [服务器地址] [端口] [玩家名称]
```

示例：
```bash
# 连接到本地服务器，使用默认端口
dotnet run

# 连接到指定服务器和端口
dotnet run 192.168.1.100 5000

# 指定玩家名称
dotnet run 127.0.0.1 5000 "我的名字"
```

### 3. 启动AI压力测试客户端

AI客户端会自动移动，不显示游戏画面，只输出关键事件日志：

```bash
cd snake_game/client-ai-cs
dotnet run [服务器地址] [端口] [AI名称]
```

示例：
```bash
# 连接到本地服务器，使用默认端口和随机名称
dotnet run

# 连接到指定服务器和端口
dotnet run 192.168.1.100 5000

# 指定AI名称
dotnet run 127.0.0.1 5000 "AI_Test_001"
```

AI客户端会输出以下日志：
- `游戏开始` - 当游戏开始时
- `吃食` - 当AI吃到食物时（显示分数变化）
- `死亡` - 当AI死亡时（显示最终分数）
- `游戏结束` - 当所有玩家都死亡时

## 玩法说明

- `W/A/S/D`：上/左/下/右控制方向
- 吃到 `@` 增长身体并加分
- 撞到墙壁、自己或其他玩家的身体则游戏结束
- `O` 表示你自己的蛇头，`o` 表示你的身体
- `Q` 表示其他玩家的蛇头，`q` 表示其他玩家的身体

## 技术特点

- 最少依赖：仅使用 .NET 8 标准库，无需第三方包
- 权威服务器：所有游戏逻辑在服务端执行，防止作弊
- 实时同步：服务端定期广播游戏状态给所有客户端
- 多玩家支持：支持多个玩家同时在线游戏